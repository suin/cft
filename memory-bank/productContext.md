# プロダクトコンテキスト: cft

## 解決する問題
1. **ChatGPT Deep researchレポートの可読性**
   - Deep researchが生成するレポートでは、インライン形式の出典 `([タイトル](URL))` が多用される
   - 特に、URLが長い場合や出典が連続する場合に文章の可読性が著しく低下する
   - 研究結果や調査内容の理解が妨げられる

2. **文章の流れの中断**
   - インライン形式の出典は、文章の自然な流れを中断させる
   - 読者が本文に集中しづらくなる

3. **メンテナンスの困難さ**
   - インライン形式では、同じ出典を複数回使用する場合に都度URLを記述する必要がある
   - URLの変更が必要な場合、すべての箇所を手動で更新する必要がある

## ユーザー体験の目標
1. **シームレスな変換**
   - 単一のコマンドで変換が完了する
   - 最小限の設定で利用できる
   - エラー時は明確なメッセージを表示

2. **信頼性の高い処理**
   - 部分的な変換を防止し、ファイルの整合性を維持
   - 既存の注釈との競合を防止
   - 変換前後でMarkdownの構造を維持

3. **効率的な作業フロー**
   - 大規模なファイルでも実用的な処理時間
   - バッチ処理の可能性（将来の拡張）
   - 既存のMarkdownツールチェーンとの親和性

## 想定される使用シナリオ

### シナリオ1: 論文執筆
```markdown
# 変換前
研究によると、機械学習は様々な分野で活用されている ([Smith et al.](https://example.com/paper1))。
特に、自然言語処理の分野では顕著な進歩が見られる ([Johnson](https://example.com/paper2))。

# 変換後
研究によると、機械学習は様々な分野で活用されている [^example.com-1]。
特に、自然言語処理の分野では顕著な進歩が見られる [^example.com-2]。

[^example.com-1]: [Smith et al.](https://example.com/paper1)
[^example.com-2]: [Johnson](https://example.com/paper2)
```

### シナリオ2: 技術文書作成
```markdown
# 変換前
このパターンは、GoFのデザインパターン ([Design Patterns](https://example.com/gof)) で説明されている。
実装例は公式ドキュメント ([Documentation](https://example.com/docs)) を参照。

# 変換後
このパターンは、GoFのデザインパターン [^example.com-1] で説明されている。
実装例は公式ドキュメント [^example.com-2] を参照。

[^example.com-1]: [Design Patterns](https://example.com/gof)
[^example.com-2]: [Documentation](https://example.com/docs)
```

## 将来の展望
1. **機能拡張**
   - 複数ファイルの一括処理
   - 変換前のバックアップ作成オプション
   - 出典形式のカスタマイズ

2. **ユーザビリティ向上**
   - GUIツールの提供
   - エディタプラグインの開発
   - 対話的な変換オプション

3. **インテグレーション**
   - CI/CDパイプラインとの統合
   - 他のMarkdownツールとの連携
   - バージョン管理システムとの連携
